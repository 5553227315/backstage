(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-708d37f4"],{"2d5b":function(t,e,a){"use strict";var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[[a("el-skeleton",{staticStyle:{width:"100%",position:"absolute","z-index":"1","margin-top":"-55px","background-color":"white"},attrs:{loading:t.loading,animated:"",count:1}},[a("template",{slot:"template"},[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("el-skeleton-item",{staticStyle:{height:"20px",width:"90px",margin:"5px 0 5px 8px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"80px",margin:"5px 0 5px 8px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"30px",margin:"5px 0 5px 23px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"85px",margin:"5px 0 5px 10px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"70px",margin:"5px 0 5px 16px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"280px",margin:"5px 0 5px 32px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"150px",margin:"5px 0 5px 20px"},attrs:{variant:"text"}})],1)])],2)],[a("el-skeleton",{staticStyle:{width:"100%",position:"absolute","z-index":"1","margin-top":"-30px","background-color":"white"},attrs:{loading:t.loading,animated:"",count:4}},[a("template",{slot:"template"},[a("div",{staticStyle:{display:"flex","flex-direction":"row"}},[a("el-skeleton-item",{staticStyle:{height:"20px",width:"90px","margin-left":"8px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"80px","margin-left":"8px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"30px","margin-left":"23px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"85px","margin-left":"10px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"70px","margin-left":"16px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"280px","margin-left":"32px","margin-top":"20px"},attrs:{variant:"text"}}),a("el-skeleton-item",{staticStyle:{height:"20px",width:"150px","margin-left":"20px","margin-top":"20px"},attrs:{variant:"text"}})],1)])],2)]],2)},i=[],n={name:"Skeleton",props:{loading:Boolean}},s=n,r=a("2877"),o=Object(r["a"])(s,l,i,!1,null,"bf6e324a",null);e["a"]=o.exports},c05d:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticStyle:{margin:"10px 0"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入电影名","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.load.apply(null,arguments)}},model:{value:t.filmName,callback:function(e){t.filmName=e},expression:"filmName"}}),a("el-input",{staticClass:"ml-10",staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户名","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.load.apply(null,arguments)}},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}}),a("el-input",{staticClass:"ml-10",staticStyle:{width:"200px"},attrs:{placeholder:"请输入用户账号","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.load.apply(null,arguments)}},model:{value:t.userTel,callback:function(e){t.userTel=e},expression:"userTel"}}),a("el-input",{staticClass:"ml-10",staticStyle:{width:"200px"},attrs:{placeholder:"请输入影院名","suffix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.load.apply(null,arguments)}},model:{value:t.cinemaName,callback:function(e){t.cinemaName=e},expression:"cinemaName"}}),a("el-button",{staticClass:"ml-10",attrs:{type:"primary"},on:{click:t.load}},[t._v("搜索")]),a("el-button",{staticClass:"ml-5",attrs:{type:"warning"},on:{click:t.reload}},[t._v("重置")])],1),a("div",{staticStyle:{margin:"10px 0"}},[a("el-button",{staticClass:"ml-10",attrs:{type:"primary"},on:{click:t.exp}},[t._v("导出 "),a("i",{staticClass:"el-icon-download"})])],1),a("el-table",{attrs:{data:t.tableData,border:"",stripe:"","header-cell-style":{background:"#f1f5f8",borderColor:"#CECECE"}}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"用户名称："}},[a("span",[t._v(t._s(e.row.userName))])]),a("el-form-item",{attrs:{label:"电影名称："}},[a("span",[t._v(t._s(e.row.filmName))])]),a("el-form-item",{attrs:{label:"电影语言："}},[a("span",[t._v(t._s(e.row.filmLanguage))])]),a("el-form-item",{attrs:{label:"视觉："}},[a("span",[t._v(t._s(e.row.showingsVision))])]),a("el-form-item",{attrs:{label:"放映厅类型："}},[a("span",[t._v(t._s(e.row.cinemaType))])]),a("el-form-item",{attrs:{label:"影院名称："}},[a("span",[t._v(t._s(e.row.cinemaName))])]),a("el-form-item",{attrs:{label:"影院地址："}},[a("div",[t._v(t._s(e.row.cinemaAddress))])]),a("el-form-item",{attrs:{label:"放映厅号："}},[a("span",[t._v(t._s(e.row.hallNumber))])]),a("el-form-item",{attrs:{label:"座位位置："}},[a("span",[t._v(t._s(e.row.hallPosition))])]),a("el-form-item",{attrs:{label:"场次日期："}},[a("span",[t._v(t._s(t.formatDate(e.row)))])]),a("el-form-item",{attrs:{label:"开始时间："}},[a("span",[t._v(t._s(t.startT(e.row)))])]),a("el-form-item",{attrs:{label:"结束时间："}},[a("span",[t._v(t._s(t.endT(e.row)))])]),a("el-form-item",{attrs:{label:"价格："}},[a("span",[t._v(t._s(e.row.billPrice))])]),a("el-form-item",{attrs:{label:"票数："}},[a("span",[t._v(t._s(e.row.billNumber))])]),a("el-form-item",{attrs:{label:"下单时间："}},[a("span",[t._v(t._s(e.row.createBill))])])],1)]}}])}),a("el-table-column",{attrs:{prop:"userTel",label:"账号",width:"100"}}),a("el-table-column",{attrs:{prop:"userName",label:"用户名",width:"100"}}),a("el-table-column",{attrs:{prop:"filmName",label:"电影名",width:"170"}}),a("el-table-column",{attrs:{prop:"cinemaName",label:"影院名",width:"130"}}),a("el-table-column",{attrs:{prop:"hallNumber",label:"厅号",width:"80"}}),a("el-table-column",{attrs:{prop:"hallPosition",label:"位置",width:"130"}}),a("el-table-column",{attrs:{prop:"showingsDate",label:"日期",width:"130",formatter:t.formatDate}}),a("el-table-column",{attrs:{prop:"filmstartTime",label:"开始时间",width:"100",formatter:t.startT}}),a("el-table-column",{attrs:{prop:"createBill",label:"下单时间",width:"150"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{directives:[{name:"show",rawName:"v-show",value:0===e.row.billState,expression:"scope.row.billState===0"}],staticStyle:{"margin-left":"10px"},attrs:{type:"danger"},on:{click:function(a){return t.deleteopen(e.row.billId)}}},[t._v(" 退票 "),a("i",{staticClass:"el-icon-remove-outline"})]),a("div",{directives:[{name:"show",rawName:"v-show",value:1===e.row.billState,expression:"scope.row.billState===1"}],staticClass:"ml-10",staticStyle:{color:"#67C23A"}},[t._v("已完成")])]}}])})],1),a("Skeleton",{attrs:{loading:t.loading}}),a("div",{staticClass:"block",staticStyle:{padding:"10px 0"}},[a("el-pagination",{attrs:{"current-page":t.pageNum,"page-sizes":[5,10,15,20],"page-size":t.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)},i=[],n=a("2d5b"),s=a("863e"),r={name:"Bill",components:{Skeleton:n["a"]},data:function(){return{loading:!0,tableData:[],total:0,filmName:"",cinemaName:"",userName:"",userTel:"",addOrUpdataVisible:!1,pageNum:1,pageSize:5}},created:function(){this.load()},methods:{exp:function(){window.open("http://".concat(s["a"],":9090/bill/export"))},deleteopen:function(t){var e=this;this.$confirm("此操作将删除该订单, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.request.delete("/bill/reticket",{params:{billId:t}}).then((function(t){"200"===t.code?(e.$message({type:"success",message:t.msg}),e.load()):e.$message({type:"error",message:t.msg})}))})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},formatDate:function(t){console.log("数据库渠道的时间",t.filmstartTime);var e=new Date(t.filmstartTime);return console.log("这是转换后的时间",e),console.log("这是月份",e.getMonth()),e.getMonth()+1<10?e.getDate()<10?e.getFullYear()+"-0"+(e.getMonth()+1)+"-0"+e.getDate():e.getFullYear()+"-0"+(e.getMonth()+1)+"-"+e.getDate():e.getDate()<10?e.getFullYear()+"-"+(e.getMonth()+1)+"-0"+e.getDate():e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()},startT:function(t){var e=new Date(t.filmstartTime);return e.getHours()<10?e.getMinutes()<10?"0"+e.getHours()+" : 0"+e.getMinutes():"0"+e.getHours()+" : "+e.getMinutes():e.getMinutes()<10?e.getHours()+" : 0"+e.getMinutes():e.getHours()+" : "+e.getMinutes()},endT:function(t){var e=new Date(t.filmendTime);return e.getHours()<10?e.getMinutes()<10?"0"+e.getHours()+" : 0"+e.getMinutes():"0"+e.getHours()+" : "+e.getMinutes():e.getMinutes()<10?e.getHours()+" : 0"+e.getMinutes():e.getHours()+" : "+e.getMinutes()},load:function(){var t=this;this.request("/bill/billPage",{params:{pageNum:this.pageNum,pageSize:this.pageSize,filmName:this.filmName,cinemaName:this.cinemaName,userName:this.userName,userTel:this.userTel}}).then((function(e){console.log(e),t.tableData=e.data.records,t.total=e.data.total,t.loading=!1}))},reload:function(){this.filmName="",this.filmSource="",this.load()},handleSizeChange:function(t){console.log(t),this.pageSize=t,this.load()},handleCurrentChange:function(t){console.log(t),this.pageNum=t,this.load()}}},o=r,p=a("2877"),m=Object(p["a"])(o,l,i,!1,null,"002095cd",null);e["default"]=m.exports}}]);
//# sourceMappingURL=chunk-708d37f4.1380eb6d.js.map